{% extends 'base.html' %}
{% load static %}

{% block title %}Nossas Ações - Projeto Sarah{% endblock %}

{% block content %}
<div class="container my-5">
    <section class="mb-5 text-center">
        <h1 class="display-4 text-success">Nossas Ações</h1>
        <p class="lead">Descubra os projetos e iniciativas que estamos realizando e o impacto que geramos.</p>
    </section>

    {% if acoes %}
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4 mb-5">
        {% for acao in acoes %}
        <div class="col">
            <div class="card h-100 shadow-sm border-0">
                {% if acao.imagem %}
                <img src="{{ acao.imagem.url }}" class="card-img-top" alt="{{ acao.titulo }}">
                {% else %}
                <img src="{% static 'img/placeholder_acao.jpg' %}" class="card-img-top" alt="Imagem Padrão de Ação">
                {% endif %}
                <div class="card-body d-flex flex-column">
                    <h5 class="card-title text-primary">{{ acao.titulo }}</h5>
                    <p class="card-text text-muted">{{ acao.descricao_breve|truncatechars:150 }}</p>
                    <a href="{% url 'detalhe_acao' acao.slug %}" class="btn btn-sm btn-outline-success mt-auto">Saiba Mais <i class="bi bi-arrow-right"></i></a>
                </div>
                {% if acao.data_publicacao %}
                <div class="card-footer text-end text-small text-muted">
                    <small>Publicado em: {{ acao.data_publicacao|date:"d/m/Y" }}</small>
                </div>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>

    {% else %}
    <div class="alert alert-info text-center" role="alert">
        <h4 class="alert-heading">Em Construção!</h4>
        <p>Ainda não há ações ou projetos publicados aqui. Fique de olho, em breve teremos novidades!</p>
        <hr>
        <p class="mb-0">Para mais informações, entre em contato conosco.</p>
    </div>
    {% endif %}

    <section class="py-4 text-center">
        <p class="lead">Quer saber mais sobre o impacto que estamos gerando?</p>
        <a href="{% url 'contato' %}" class="btn btn-primary btn-lg mt-3">Fale Conosco</a>
    </section>
</div>
{% endblock %}